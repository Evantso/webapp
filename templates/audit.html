{% extends 'base.html' %}



{% block script %}
<!-- See https://datatables.net/download/ for info on datatables -->
<link href="https://cdn.datatables.net/v/dt/dt-1.13.6/datatables.min.css" rel="stylesheet">
<script src="https://cdn.datatables.net/v/dt/dt-1.13.6/datatables.min.js"></script>
<script>
const user_id = {{user_id}};                  // not logged in
const api_key = "{{api_key}}";                // no API key yet
const user_primary_course_id   = {{user_primary_course_id}};

</script>
{% endblock %}

{% block body %}

<h2>Your Identity </h2>

<p>ID: {{user_id}}</p>
<p>Name:  <span id='user-name'  x-user_id='{{user_id}}' x-property='name' >{{user_name}}</span>
          <span class='editor'  x-target='user-name'    onclick='row_pencil_clicked(this)'> ✏️  </span>
</p>
<p>Email: <span id='user-email' x-user_id='{{user_id}}' x-property='email'>{{user_email}}</span>
          <span class='editor'  x-target='user-email'    onclick='row_pencil_clicked(this)'> ✏️  </span>

</p>
<p>Primary course: <span id='course-name'> {{course_name}} ({{user_primary_course_id}}) </span></p>

<h2>Audit Log</h2>
<i>The audit log shows all actions that are yours or about you. If you are the admin in a course, you see all actions related to the course.</i>

<table id='audit'></table>

<!-- See https://stackoverflow.com/questions/33682122/datatables-generate-whole-table-from-json -->

<script>
var columns = [
  { "data": "a-data", "title":"Column A" },
  { "data": "b-data", "title":"Column B" },
  { "data": "c-data", "title":"Column C" }
  ];

var data = [
 { "a-data":"This is A", "b-data":"This is B","c-data":"This is C"},
 { "a-data":"Something", "b-data":"Different","c-data":"Here"}
 ];


$( document ).ready( function() {
   build_audit_table();
});
</script>
{% endblock %}

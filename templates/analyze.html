{% extends 'base.html' %}

{% block head %}
<script type="text/javascript" charset="utf8" src="static/analyze.js"></script>
{% endblock %}


{% block body %}

<div id='message' class='alert'><b>{{message}}</b></div>

<h2 id='firsth2'>First Movie Frame Loading...</h2>

<h3> Annotating Frame: <span id='frame_number'></span> </h3>
<div id='frame_data'></div>
<div id='canvas-div'><canvas id="c1" width="340" height="340"></canvas></div>

<table class="pure-table pure-table-horizontal pure-table-striped">
  <thead>
    <tr><th>Marker</th><th>Name</th><th>Location (pixels)</th><th>Location (cm)</th></tr>
  </thead>
  <tbody id='marker-tbody'>
  </tbody>
</table>

<form class='pure-form pure-form-aligned'>
  <fieldset>
    <legend>Movie Controls</legend>
    <div class='pure-control-group'>
      <label for='marker-size-slider'>Marker size:</label>
      <input id="marker-size-slider" type="range" min="1" max="40" value="10" class="slider" onchange='slider_moved(this);'>
    </div>
  </fieldset>
</form>

<hr>
<form class='pure-form pure-form-aligned'>
  <fieldset>
    <legend>Add a marker to track a point</legend>

    <div class='pure-control-group'>
      <label for='marker-name'>Name:</label>
      <input id='marker-name' placeholder='Marker name' size='20' oninput='marker_name_input();'/>
      <input id='add-marker-button' class='pure-button pure-button-primary'
             type='button' value='add marker' onclick='add_marker_clicked();' disabled/>
    </div>

    <div class='pure-control-group'>
      <label for='marker-status'></label>
      <label id='marker-status'></label>
    </div>

    <div class='pure-control-group'>
      <label for='done-button'>Click to save annotations to server:</label>
      <input class='pure-button pure-button-primary' id='done-button' type='button' value='Save' onclick='done_button_clicked();'/>
    </div>

  </fieldset>
</form>

<h2>Movie Frames</h2>


<script>
var movie_id={{movie_id}};
$( document ).ready( function() {
    console.log("calling document ready function...");
    analyze_movie();
});
</script>
{% endblock %}
